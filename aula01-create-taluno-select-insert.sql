create table TALUNO
(
  COD_ALUNO INTEGER NOT NULL,
  NOME VARCHAR(30),
  CIDADE VARCHAR(30),
  CEP VARCHAR(10),
  PRIMARY KEY(COD_ALUNO)
);

select * from taluno;

insert into TALUNO(COD_ALUNO, NOME, CIDADE, CEP)
values (1, 'MARCIO', 'NOVO HAMBURGO', '93000000');

insert into TALUNO(COD_ALUNO, NOME, CIDADE, CEP)
values (2, 'PAULA', 'IVOTI', '93000000');

insert into TALUNO(COD_ALUNO, NOME, CIDADE, CEP)
values (3, 'MARIA', 'SAPIRANGA', '93000000');

create table TCURSO
(
  COD_CURSO INTEGER NOT NULL PRIMARY KEY,
  NOME VARCHAR(30),
  VALOR NUMBER(8, 2),
  CARGA_HORARIA INTEGER
);

INSERT INTO TCURSO VALUES(1, 'ORACLE SQL e PL/SQL', 500,25);
INSERT INTO TCURSO VALUES(2, 'ORACLE DBA', 499,25);
INSERT INTO TCURSO VALUES(3, 'JAVA FUNDAMENTOS E OO', 1500,100);
INSERT INTO TCURSO VALUES(4, 'JAVASERVER FACES', 1600,100);

SELECT * FROM TCURSO;

CREATE TABLE TCONTRATO
(
  COD_CONTRATO INTEGER NOT NULL PRIMARY KEY,
  DATA DATE,
  COD_ALUNO INTEGER,
  TOTAL NUMBER (8,2),
  DESCONTO NUMBER (5,2)
);

SELECT * FROM TCONTRATO;

INSERT INTO TCONTRATO VALUES(1, SYSDATE, 1, 500,10);
INSERT INTO TCONTRATO VALUES(2, SYSDATE, 1, 500,10);
INSERT INTO TCONTRATO VALUES(3, SYSDATE, 1, 1500,05);
INSERT INTO TCONTRATO VALUES(4, SYSDATE-5, 1, 1600,10);
INSERT INTO TCONTRATO VALUES(5, SYSDATE-4, 1, 800,10);
INSERT INTO TCONTRATO VALUES(6, SYSDATE-3, 1, 445,0);
INSERT INTO TCONTRATO VALUES(7, SYSDATE-2, 1, 445,20);

--inserirs coluna na tabela
ALTER TABLE TCONTRATO ADD COL_TESTE VARCHAR(50);

--excluir coluna da tabela
ALTER TABLE TCONTRATO DROP COLUMN COL_TESTE;

--Alterar nome de coluna
ALTER TABLE TALUNO RENAME COLUMN NOME TO NOME2;
ALTER TABLE TALUNO RENAME COLUMN NOME2 TO NOME;

SELECT * FROM TCONTRATO;

--ecluir tabela;
drop table TABELA;

select * from TALUNO;

--sequence
CREATE SEQUENCE SEQ_ALUNO START WITH 4;

INSERT INTO TALUNO (COD_ALUNO, NOME, CIDADE, CEP)
VALUES(SEQ_ALUNO.NEXTVAL, 'VALDO', 'CANOAS', '110000000');

INSERT INTO TALUNO (COD_ALUNO, NOME, CIDADE, CEP)
VALUES(SEQ_ALUNO.NEXTVAL, 'ANDRE', 'IVOTI', '120000000');

SELECT * FROM TALUNO;

--data/hora atual
select SYSDATE from dual;

--valor atual da sequence
select SEQ_ALUNO.CURRVAL from dual;


--confirmar alteracoes realizadas (insert, update e delete)
commit;

select * from TALUNO;

DELETE FROM TALUNO;

--desfaz alteracoes realizadas  (insert, update e delete)
ROLLBACK;

--excluir registro da tabela
DELETE FROM TALUNO WHERE COD_ALUNO = 5;

select * from taluno;

rollback;

select * from taluno where nome = 'VALDO';

DELETE FROM TALUNO WHERE NOME = 'VALDO';

COMMIT;

CREATE TABLE TITEM
(
  COD_ITEM INTEGER NOT NULL PRIMARY KEY,
  COD_CURSO INTEGER,
  COD_CONTRATO INTEGER,
  VALOR NUMBER (8,2)
);

INSERT INTO TITEM VALUES(1, 1, 1, 500);
INSERT INTO TITEM VALUES(2, 1, 2, 500);
INSERT INTO TITEM VALUES(3, 3, 3, 1500);
INSERT INTO TITEM VALUES(4, 4, 4, 1600);
INSERT INTO TITEM VALUES(5, 1, 5, 500);
INSERT INTO TITEM VALUES(6, 1, 6, 500);
INSERT INTO TITEM VALUES(7, 2, 6, 500);
INSERT INTO TITEM VALUES(8, 3, 7, 500);

COMMIT;

SELECT * FROM TITEM;

SELECT * FROM TCONTRATO WHERE COD_CONTRATO = 2;

--alterar registro da tabela
UPDATE TCONTRATO SET DESCONTO = 18 WHERE COD_CONTRATO = 2;

UPDATE TCONTRATO SET DESCONTO = 10, DATA = '05/01/2013', TOTAL = 2500 WHERE COD_CONTRATO = 2;

SELECT * FROM TALUNO;

UPDATE TALUNO SET CIDADE = 'CANOAS' WHERE Upper (CIDADE) = 'IVOTI';

UPDATE TALUNO SET NOME = 'FRIDA' WHERE COD_ALUNO = 5;

SELECT * FROM TCURSO;

UPDATE TCURSO SET VALOR = 499.99 WHERE COD_CURSO = 1;

COMMIT;